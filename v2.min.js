/**
 * @author Stefan Goessner (c) 2013-16
 * @license MIT Licence (MIT)
 */
function v2(x,y){return{x:x||0,y:y||0}}v2.zero=Object.create(null,{x:{value:0},y:{value:0}});v2.EPS=Math.sqrt(Number.EPSILON);v2.isZero=function(u){return u.x===0&&u.y===0};v2.isEq=function(u,v){return u.x===v.x&&u.y===v.y};v2.isEps=function(u,v){return Math.abs(v?u.x-v.x:u.x)<v2.EPS&&Math.abs(v?u.y-v.y:u.y)<v2.EPS};v2.isUnit=function(u){return u.x*u.x+u.y*u.y-1<v2.EPS};v2.isCartesian=function(u){return"x"in u&&"y"in u};v2.isPolar=function(u){return"r"in u&&"w"in u};v2.len=function(u){return Math.hypot(u.x,u.y)};v2.sqr=function(u){return u.x*u.x+u.y*u.y};v2.angle=function(u,v){var t;return v?Math.atan2(Math.abs(t=u.x*v.y-u.y*v.x)<v2.EPS?0:t,u.x*v.x+u.y*v.y):Math.atan2(u.y,u.x)};v2.copy=function(u,v){if(v){v.x=u.x||0;v.y=u.y||0}else v={x:u.x,y:u.y};return v};v2.neg=function(u){return{x:-u.x,y:-u.y}};v2.tilde=function(u){return{x:-u.y,y:u.x}};v2.unit=function(u){var len=Math.hypot(u.x,u.y),invlen=Math.abs(len)<v2.EPS?0:1/len;return{x:u.x*invlen,y:u.y*invlen}};v2.cartesian=function(u){return"x"in u&&"y"in u?{x:u.x,y:u.y}:{x:u.r*Math.cos(u.w),y:u.r*Math.sin(u.w)}};v2.polar=function(u){return"r"in u&&"w"in u?{r:u.r,w:u.w}:{r:Math.hypot(u.x,u.y),w:Math.atan2(u.y,u.x)}};v2.toPolar=function(u){return{r:Math.hypot(u.x,u.y),w:Math.atan2(u.y,u.x)}};v2.fromPolar=function(u){return{x:u.r*Math.cos(u.w),y:u.r*Math.sin(u.w)}};v2.sum=function(u,v){return{x:u.x+v.x,y:u.y+v.y}};v2.dif=function(u,v){return{x:u.x-v.x,y:u.y-v.y}};v2.dot=function(u,v){return u.x*v.x+u.y*v.y};v2.perp=function(u,v){return u.x*v.y-u.y*v.x};v2.scl=function(u,s){return{x:s*u.x,y:s*u.y}};v2.rot=function(u,w){var s=Math.sin(w||0),c=Math.cos(w||0);return{x:c*u.x-s*u.y,y:s*u.x+c*u.y}};v2.trf=function(u,a,b,c,d,e,f){return{x:a*u.x+c*u.y+(e||0),y:b*u.x+d*u.y+(f||0)}};v2.simtrf=function(u,a,b){a=a||1,b=b||0;return{x:a*u.x-b*u.y,y:a*u.y+b*u.x}};v2.icartesian=function(u){if("r"in u&&"w"in u){u.x=u.r*Math.cos(u.w);u.y=u.r*Math.sin(u.w);delete u.r;delete u.w}return u};v2.ipolar=function(u){if("x"in u&&"y"in u){u.r=Math.hypot(u.x,u.y);u.w=Math.atan2(u.y,u.x);delete u.x;delete u.y}return u};v2.ineg=function(u){u.x=-u.x;u.y=-u.y;return u};v2.itilde=function(u){var x=u.x;u.x=-u.y;u.y=x;return u};v2.iunit=function(u){var len=Math.hypot(u.x,u.y),invlen=Math.abs(len)<v2.EPS?0:1/len;u.x*=invlen;u.y*=invlen;return u};v2.add=function(u,v){u.x+=v.x;u.y+=v.y;return u};v2.isum=v2.add;v2.sub=function(u,v){u.x-=v.x;u.y-=v.y;return u};v2.idif=v2["sub"];v2.iscl=function(u,s){u.x*=s;u.y*=s;return u};v2.irot=function(u,w){var s=Math.sin(w),c=Math.cos(w),x=c*u.x-s*u.y;u.y=s*u.x+c*u.y;u.x=x;return u};v2.itrf=function(u,a,b,c,d,e,f){var x=a*u.x+c*u.y+(e||0);u.y=b*u.x+d*u.y+(f||0);u.x=x;return u};v2.isimtrf=function(u,a,b){var x=(a||1)*u.x-(b||0)*u.y;u.y=(a||1)*u.y+(b||0)*u.x;u.x=x;return u};v2.str=function(u,n){return n>0?"("+u.x.toFixed(n)+","+u.y.toFixed(n)+")":n===0?"("+u.x.toFixed(0)+","+u.y.toFixed(0)+")":"("+u.x+","+u.y+")"};if(typeof module!=="undefined")module.exports=v2;